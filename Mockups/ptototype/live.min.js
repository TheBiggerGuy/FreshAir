/*

 @author Guy Taylor (http://www.thebiggerguy.com)
 @version 0.5
 @updated 11-JUL-2011
 @created 08-JUL-2011
 Images and Design Copyright 2011, Richard Hanrahan

 Copyright (c) 2011 Guy Taylor (http://www.thebiggerguy.com)
 Dual licensed under the MIT and GPL licenses.
 - http://www.opensource.org/licenses/mit-license.php
 - http://www.gnu.org/copyleft/gpl.html
 ---
 Includes jquery.pulse.js (version 0.1 16-DEC-09)
 https://github.com/jamespadolsey/jQuery-Plugins/tree/master/pulse
 Copyright (c) 210 James Padolsey (http://james.padolsey.com)
 Dual licensed under the MIT and GPL licenses.
 - http://www.opensource.org/licenses/mit-license.php
 - http://www.gnu.org/copyleft/gpl.html
 ---
*/
var h=["playbutton.png","pausebutton.png","throbber.gif"];window.console||(console={});console.log=console.log||function(){};console.warn=console.warn||function(){};console.error=console.error||function(){};console.info=console.info||function(){};var i=0,m=1,n=2,o=4,q=i,r=null;
$(function(){console.info("$(document).ready()");$("#header-control img").hover(function(){$(this).stop();$(this).b({opacity:[0.5,1]},{duration:500,a:999999,easing:"swing"})},function(){$(this).stop();$(this).b({opacity:[1,0.5]},{duration:2E3,a:999999,easing:"swing"})}).trigger("mouseleave");$(".footer-item").hover(function(){$(this).parent().animate({height:25,easing:"swing"})},function(){$(this).parent().animate({height:20,easing:"swing"})});$("#header-control img").bind("click",s);for(var a in h)(new Image).src=
h[a];r=t();setTimeout(u,1E4);setTimeout(v,1E4);setTimeout(w,100)});
function t(){return $("#radio").jPlayer({ready:function(){console.info("jPlayer: Ready");$(this).jPlayer("setMedia",{mp3:"http://live.freshair.org.uk:3066/;"});q=m;$("#header-control img").attr("src","playbutton.png").attr("alt","play");$("#header-control").attr("title","play")},swfPath:"http://www.freshair.org.uk/dev/",supplied:"mp3",error:function(){console.info("jPlayer: error");$("#header-control").html("Error !")},play:function(){console.info("jPlayer: play");q=o;$("#header-control img").attr("src",
"pausebutton.png").attr("alt","pause");$("#header-control").attr("title","pause")},pause:function(){console.info("jPlayer: pause");q=m;$("#header-control img").attr("src","playbutton.png").attr("alt","play");$("#header-control").attr("title","play")},playing:function(){console.info("jPlayer: pauseplaying");q=o;$("#header-control img").attr("src","pausebutton.png").attr("alt","pause");$("#header-control").attr("title","pause")},backgroundColor:"#EA6A11",errorAlerts:!1,warningAlerts:!1,solution:"html, flash",
preload:"none",cssSelector:{videoPlay:"",play:"",pause:"",stop:"",seekBar:"",playBar:"",mute:"",unmute:"",volumeBar:"",volumeBarValue:"",currentTime:"",duration:""}})}function x(){try{r.jPlayer("destroy")}catch(a){console.info("destroyPlayer: Unable to destroy player !")}r=null;q=i}
function s(){if(r==null)t();else switch(q){case m:console.info("playPau: play");r.jPlayer("play");break;case n:console.info("playPau: play");r.jPlayer("play");break;case o:console.info("playPau: pause");r.jPlayer("stop");x();break;default:console.info("playPause: Unknown !"),x(),t()}}
function w(){console.info("updateInfo:");jQuery.ajax({url:"http://freshair.org.uk/dev/live.php?action=getinfo",dataType:"json",success:function(a){console.info("updateInfo: "+a.status);if(a.status=="ok"){var a=a.data,e=a.now,c=a.next;$("#nowplaying-title").html(a.g);$("#header-subheader").css("visibility","visible");$("#header-subheader-title").html(e.title);$("#header-subheader-time").html(e.d);$("#showinfo").css("visibility","visible");$("#showinfo-des").html(e.e);$("#showinfo-link").attr("href",
e.url);$("#showinfo-img").attr("src",e.f);$("#next").css("visibility","visible");$("#next-title").html(c.title);$("#next-time").html(c.d)}},complete:function(){setTimeout(w,1E4)}})}function u(){y(1);setTimeout(u,1E4)}function v(){y(2);setTimeout(v,1E4)}function y(a){console.info("updateWebCam: "+a);d=new Date;$("#webcam"+a).attr("src","http://www.freshair.org.uk/webcam/Webcam0"+a+".jpg?"+d.getTime())};jQuery.fn.b=function(a,e){var c,f,j;isNaN(c)&&(j=f,f=c,c=1);var k=jQuery.speed(e,f,j);f=k.queue!==!1;var p=0,l;for(l in a)p=Math.max(a[l].length,p);k.a=k.a||c;this[f?"queue":"each"](function(){function e(){var j={},l=!1,b;for(b in a)g[b]=g[b]||{c:0,cur:-1},g[b].cur<a[b].length-1?++g[b].cur:(g[b].cur=0,++g[b].c),a[b].length===p&&(l=c.a>g[b].c),j[b]=a[b][g[b].cur];c.complete=e;c.queue=!1;l?f.animate(j,c):k.complete.call(f[0])}var g={},c=jQuery.extend({},k),f=jQuery(this);e()})};
